<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!--edge browser H5 compatible settings-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--360 browser H5 compatible settings-->
    <meta name="renderer" content="webkit"/>
    <title>Computer Store</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--Import core file-->
    <script src="../bootstrap3/js/holder.js"></script>
    <link href="../bootstrap3/css/bootstrap.css" rel="stylesheet" type="text/css">
    <script src="../bootstrap3/jquery-1.9.1.min.js"></script>
    <script src="../bootstrap3/js/bootstrap.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- font icon -->
    <link rel="stylesheet" href="../bootstrap3/font-awesome-4.7.0/css/font-awesome.css"/>
    <link rel="stylesheet" type="text/css" href="../css/top.css"/>
    <link rel="stylesheet" type="text/css" href="../css/index.css"/>
    <link rel="stylesheet" type="text/css" href="../css/layout.css"/>
    <link rel="stylesheet" type="text/css" href="../css/reg.css"/>
    <link rel="stylesheet" type="text/css" href="../css/footer.css"/>
</head>
<body>
<!--head-->
<header class="header">
    <!--Computer store logo-->
    <div class="row">
        <div class="col-md-3">
            <a href="index.html">
                <img src="../images/index/stumalllogo.png" width="35%" height="35%"/>
            </a>
        </div>
        <!--Shortcut Options-->
        <div class="col-md-9 top-item">
            <ul class="list-inline pull-right">
                <!--<li><a href="favorites.html"><span class="fa fa-heart"></span> Favorites</a></li>
                <li class="li-split">|</li>-->
                <li><a href="orders.html"><span class="fa fa-file-text"></span> Orders</a></li>
                <li class="li-split">|
                <li><a href="cart.html"><span class="fa fa-cart-plus"></span> Cart</a></li>
                <li class="li-split">|</li>
                <li>
                    <!--List button: Manage-->
                    <div class="btn-group">
                        <button type="button" class="btn btn-link dropdown-toggle" data-toggle="dropdown">
                            <span id="top-dropdown-btn"><span class="fa fa-gears"></span> Manage <span class="caret"></span></span>
                        </button>
                        <ul class="dropdown-menu top-dropdown-ul" role="menu">
                            <li><a href="password.html">Change Password</a></li>
                            <li><a href="userdata.html">Personal Data</a></li>
                            <li><a href="upload.html">Upload Avatar</a></li>
                            <li><a href="address.html">Manage Delivery</a></li>
                        </ul>
                    </div>
                </li>
                <li class="li-split">|</li>
                <li><a href="login.html"><span class="fa fa-user"></span> Login</a></li>
            </ul>
        </div>
    </div>
</header>
<!--Navigation -->
<!--Split navigation and top-->
<div class="row top-nav">
    <div class="col-md-6">
        <ul class="nav nav-pills">
            <li>
                <a href="#"></a>
            </li>
            <li class="active"><a href="index.html"><span class="fa fa-home"></span></a></li>
            <li><a href="buyerAssistance.html">Buyer Assistance</a></li>
            <li><a href="contactUs.html">Contact US</a></li>
            <li><a href="merchantRegistration.html">Merchant Registration</a></li>
            <li><a href="ourBrandStory.html">Brand Story</a></li>
            <li><a href="faq.html">FAQ</a></li>
        </ul>
    </div>
    <div class="col-md-6">
        <form action="search.html" class="form-inline pull-right" role="form">
            <div class="form-group">
                <input type="text" class="form-control" id="search" name="search" placeholder="Please enter product name to search">
            </div>
            <button type="submit" class="btn btn-default btn-sm"><span class="fa fa-search"></span></button>
        </form>
    </div>
</div>
<!--end of head-->
<!--End of navigation-->


<div class="container">
    <div class="col-md-2">
        <!--Left navigation start-->
        <div class="panel-group" id="accordion">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <!--Main option: My Orders-->
                    <p class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">My Order</a>
                    </p>
                </div>
                <div id="collapseOne" class="panel-collapse collapse">
                    <div class="panel-body">
                        <div><a href="orders.html">All Orders</a></div>
                        <div><a href="orders.html">Unpaid</a></div>
                        <div><a href="orders.html">Pending Delivery</a></div>
                        <div><a href="orders.html">Pending Review</a></div>
                        <div><a href="orders.html">Return and Refund</a></div>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <!--Main option: data modification-->
                    <p class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">Modify Info</a>
                    </p>
                </div>
                <div id="collapseTwo" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div><a href="password.html">Modify Password</a></div>
                        <div><a href="userdata.html">Personal Info</a></div>
                        <div><a href="upload.html">Upload Avatar</a></div>
                        <div><a href="address.html"><b>Manage Delivery</b></a></div>
                    </div>
                </div>
            </div>
        </div>
        <!--End of left navigation-->
    </div>
    <div class="col-md-10">
        <div class="panel panel-default">
            <ul class="nav nav-tabs">
                <li><a href="password.html">Modify Password</a></li>
                <li><a href="userdata.html">Personal Info</a></li>
                <li><a href="upload.html">Upload Avatar</a></li>
                <li class="active"><a href="#">Manage Delivery</a></li>
            </ul>
            <div class="panel-body">
                <!--New shipping address form starts-->
                <form id="form-add-new-address" class="form-horizontal" role="form">
                    <div class="form-group">
                        <label class="col-md-2 control-label"><span class="txtred">*</span>Receiver: </label>
                        <div class="col-md-8">
                            <input name="name" type="text" class="form-control" placeholder="Please input receiver's name" id="receiver">
                        </div>
                    </div>


                    <div class="address_content">
                        <div class="form-group">
                            <label class="col-md-2 control-label"><span class="txtred">*</span>Country: </label>
                            <div class="col-md-3">
                                <select id="country-list" name="countryName" class="form-control"
                                        data-province="--- Select Country ---" required></select>
                            </div>

                            <label class="col-md-2 control-label"><span class="txtred">*</span>City/County: </label>
                            <div class="col-md-3">
                                <select id="city-list" name="cityOrCountyName" class="form-control" data-city="-- Select City/County -- "
                                        required></select>
                            </div>
                        </div>

                        <div class="form-group">
                            <!--<label class="col-md-2 control-label">District</label>
                            <div class="col-md-3">
                                <select id="area-list" name="areaCode" class="form-control" data-district="&#45;&#45; Select District &#45;&#45;"></select>
                            </div>
-->
                            <label class="col-md-2 control-label">Zip Code: </label>
                            <div class="col-md-3">
                                <input name="zip" type="text" class="form-control" placeholder="Please input zip code">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-2 control-label"><span class="txtred">*</span>Detailed Address</label>
                        <div class="col-md-8">
                            <textarea name="address" class="form-control" rows="3"
                                      placeholder="Please provide detailed shipping address, including community name and house/apartment number"
                                      id="detailedAddress"
                            ></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label"><span class="txtred">*</span>Tel.: </label>
                        <div class="col-md-3">
                            <input name="phone" type="text" class="form-control" placeholder="Please input mobile number"  required>
                        </div>
                        <label class="col-md-2 control-label">Fixed-line: </label>
                        <div class="col-md-3">
                            <input name="tel" type="text" class="form-control" placeholder="Please input fixed-line number">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">Address Type: </label>
                        <div class="col-md-8">
                            <input name="tag" type="text" class="form-control"
                                   placeholder="Please specify the address type, such as: home, office, or school">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label"><a href="address.html">Return</a>&nbsp;&nbsp;&nbsp;</label>
                        <div class="col-sm-10">
                            <input id="btn-add-new-address" type="button" class="col-md-1 btn btn-primary" value="Save"/>
                            <input type="reset" class="col-md-offset-1 col-md-1 btn btn-primary" value="Reset"/>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!--Start of footer-->
<footer class="footer">
    <!-- Quality Assurance, Customized Service, etc.-->
    <div class="text-center rights container">
        <div class="col-md-offset-2 col-md-2">
            <span class="fa fa-thumbs-o-up"></span>
            <p>Quality Assurance</p>
        </div>
        <div class="col-md-2">
            <span class="fa fa-address-card-o"></span>
            <p>Customized Service</p>
        </div>
        <div class="col-md-2">
            <span class="fa fa-graduation-cap"></span>
            <p>Student Exclusive Offer</p>
        </div>
        <div class="col-md-2">
            <span class="fa fa-bitcoin"></span>
            <p>Exclusive Privileges</p>
        </div>
    </div>


    <!--Contact US, Download App, etc.-->
    <div class="container beforeBottom">
        <div class="col-md-3 callus text-center">
            <ul>
                <li class="singleline"><a href="./buyerAssistance.html">Buyer Assistance</a></li>
                <li class="singleline"><a href="./beginnersGuide.html">Beginner's Guide</a></li>
                <li class="singleline"><a href="./serviceGuarantee.html">&nbsp;&nbsp;Service Guarantee</a></li>

            </ul>
        </div>
        <div class="col-md-3">
            <ul>
                <li class="singleline"><a href="./merchantAssistance.html">Merchant Assistance</a></li>
                <li class="singleline"><a href="./merchantRegistration.html">Merchant Registration</a></li>
                <li class="singleline"><a href="./faq.html">FAQ</a></li>
            </ul>
        </div>
        <div class="col-md-3">
            <ul>
                <li class="singleline"><a href="./ourBrandStory.html">Our Brand Story</a></li>
                <li class="singleline"><a href="./helpCenter.html">Help Center 24 Hours</a></li>
                <li class="singleline"><a href="./contactUs.html">Contact Us 24 Hours</a></li>
            </ul>
        </div>
        <div class="col-md-3">
            <p class="singleline">PC Store Client</p>
            <img src="../images/index/ios.png" class="lf">
            <img src="../images/index/android.png" alt="" class="lf"/>
        </div>
    </div>


    <!-- Bottom of the page - record number #footer -->
    <div class="col-md-12 text-center bottom">
        Copyright © 2022 dnsc.cn All Rights Reserved Beijing ICP No. 08963888-45 Mendy Technology Group
        Co., Ltd. All rights reserved
    </div>
</footer>
<!--End of footer-->




<script>

    $(document).ready(function () {
        // Read the JSON file and populate the drop-down option
        $.getJSON('../json/data_region.json', function (data) {
            // Clear the City/County options
            $('#country-list').empty().append('<option value="">-- Select Country --</option>');
            $('#city-list').empty().append('<option value="">-- Select City/County --</option>');

            // Populate the Country option
            let countryOptions = Object.keys(data).map(function(countryName) {
                let country = data[countryName];
                return '<option value="' + countryName + '">' + country.label_en + '</option>';
            });
            $('#country-list').append(countryOptions.join(''));

            // Listen for changes in the Country drop-down option
            $('#country-list').change(function() {
                let selectedCountry = $(this).val();

                // Clear the City/County options
                $('#city-list').empty().append('<option value="">-- Select City/County --</option>');

                if (selectedCountry !== '') {
                    let countryData = data[selectedCountry];

                    // Populate the City/County option
                    let cityOptions = countryData.children.map(function(city) {
                        return '<option value="' + city.label_en  + '">' + city.label_en + '</option>';
                    });
                    $('#city-list').append(cityOptions.join(''));
                }
            });


        });
    });



    $("#btn-add-new-address").click(function () {
        // Perform the Required Fields check
        let country = $('#country-list').val();
        let city = $('#city-list').val();
        let tel = $('input[name="phone"]').val();
        let receiver = $('#receiver').val();
        let detailedAddress = $('#detailedAddress').val();

        if (country === '' || city === '' || tel === '' || receiver === '' || detailedAddress === '') {
            // An error message is displayed
            alert('Please fill in and select the required fields')
        } else {
            // Perform the action of the form submission
            $.ajax({
                url: "/addresses/add_new_address",
                type: "POST",
                data: $("#form-add-new-address").serialize(),
                dataType: "JSON",
                success: function (json) {
                    if (json.state == 200) {
                        alert("The new delivery address is added successfully!");
                    } else {
                        alert("Failed to add new delivery address! " + json.message);
                    }
                },
                error: function (xhr) {
                    alert("Your login information has expired, please log in again! HTTP Response Code: " + xhr.status);
                    location.href = "login.html";
                }
            });
        }
    });





</script>
</body>

</html>